!function(o){o.modernSlider=function(e,n){var i={slides:null,navigation:!1,transitionSpeed:1e3,slideDelay:3e3,captionPos:"bottom-right"},t=this;t.settings={};var r=o(e);e=e;t.init=function(){t.settings=o.extend({},i,n),t.container(),t.createSlides(),t.initSwiper()},t.container=function(){$container=t.$container=o('<div class="modern-slider-container"></div>'),$wrapper=t.$wrapper=o('<div class="modern-slider-wrapper"></div>'),$container.append($wrapper),r.prepend($container),t.navigation(),r.css({position:"relative","z-index":"1"})},t.navigation=function(){!1!==t.settings.navigation&&(t.$container.append('<div class="modern-slider-next"></div>'),t.$container.append('<div class="modern-slider-prev"></div>'))};t.overlay=function(e){if(!(!1 in e||"on"!=e.overlay)){var n="#000",i="0.3";"overlay_color"in e&&""!=e.overlay_color&&(n=e.overlay_color),"overlay_alpha"in e&&""!=e.overlay_alpha&&(i=e.overlay_alpha);var r=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,n,i,r){return n+n+i+i+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}(n);return $overlay=o('<div class="modern-slider-overlay"></div>'),$overlay.css("background-color","rgba("+r.r+","+r.g+","+r.b+",0."+i+")"),$overlay}},t.createSlides=function(){var a=t.settings.slides;!1!==o.isArray(a)&&o.each(a,function(e,n){var i=o('<div class="modern-slider-slide"></div>'),r=o('<div class="modern-slider-slide-image" style="background-image:url('+a[e].img+')"></div>');i.append(r),i.append(t.overlay(a[e])),t.$wrapper.append(i)})},t.swiperArgs=function(){var e={autoplay:{delay:t.settings.slideDelay,disableOnInteraction:!1},speed:t.settings.transitionSpeed,slideClass:"modern-slider-slide",wrapperClass:"modern-slider-wrapper",loop:!0,effect:"fade",fadeEffect:{crossfade:!0},grabCursor:!0,on:{slideChange:function(){t.$wrapper.find(".modern-slider-caption").fadeOut(300,function(){o(this).remove()});var e,n=t.settings.slides,i=this.realIndex;if("caption_text"in n[i]&&""!=n[i].caption_text&&(e="caption_url"in n[i]&&0!=n[i].caption_url?'<a href="'+n[i].caption_url+'" target="_blank">'+n[i].caption_text+"</a>":n[i].caption_text),void 0!==e){var r=o('<div class="modern-slider-caption '+t.settings.captionPos+'">'+e+"</div>");t.$wrapper.append(r),r.hide().delay(500).fadeIn()}}}};return!0===t.settings.navigation&&(e.navigation={nextEl:".modern-slider-next",prevEl:".modern-slider-prev"}),e},t.initSwiper=function(){t.swiper=new Swiper(t.$container,t.swiperArgs())},t.init()},o.fn.modernSlider=function(n){return this.each(function(){if(null==o(this).data("modernSlider")){var e=new o.modernSlider(this,n);o(this).data("modernSlider",e)}})}}(jQuery);